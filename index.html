<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gamma Waves: Interactive Epistemological Experiments</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #181c1f;
      color: #f4f7fa;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    header {
      background: #24292e;
      padding: 1.5rem 2rem;
    }
    header h1 {
      margin: 0;
      font-size: 2.5rem;
      letter-spacing: 1px;
      color: #ffea00;
    }
    header p {
      font-size: 1.2rem;
      color: #d1d5da;
      margin: 0.5em 0 0 0;
    }
    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem;
      background: #22262a;
      border-radius: 20px;
      box-shadow: 0 10px 36px #0005;
    }
    section {
      margin-bottom: 3rem;
    }
    h2 {
      color: #00b2ff;
      border-bottom: 1px solid #44485a;
      padding-bottom: 0.3em;
      margin-bottom: 0.6em;
    }
    .sim-container {
      background: #181c1f;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 12px #0003;
      margin-bottom: 1.5rem;
    }
    .slider-group {
      display: flex;
      gap: 2em;
      flex-wrap: wrap;
      align-items: flex-end;
      margin: 1em 0 0.5em 0;
    }
    .slider-label {
      display: flex;
      flex-direction: column;
      font-size: 1rem;
    }
    .slider-label input[type=range] {
      width: 180px;
      margin-top: 0.4em;
    }
    canvas {
      display: block;
      background: #111317;
      margin: 0.5em auto 0.5em auto;
      border-radius: 10px;
      border: 1px solid #44485a;
    }
    .note {
      font-size: 0.97em;
      color: #a9b8c7;
      margin-top: 0.8em;
    }
    .citations {
      font-size: 0.95em;
      color: #bfc6d1;
      margin-top: 2em;
      border-top: 1px solid #3a3e46;
      padding-top: 1em;
    }
    a {
      color: #ffd600;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <h1>Gamma Waves: Interactive Epistemological Experiments</h1>
    <p>
      Explore the strange, profound rhythms of the mind.<br>
      Simulate gamma oscillations (30–150 Hz) and manipulate parameters to witness the cognitive phenomena underlying memory, attention, and consciousness.
    </p>
  </header>
  <main>
    <section>
      <h2>What Are Gamma Waves?</h2>
      <p>
        Gamma waves or gamma rhythms are patterns of neural oscillation in humans with a frequency between <strong>30 and 100 Hz</strong>, with the 40 Hz point being of particular interest.
        Gamma waves between 30–70 Hz may be classified as <em>low gamma</em>, and those between 70–150 Hz as <em>high gamma</em>. Gamma rhythms are strongly correlated with large-scale brain network activity and cognitive phenomena such as working memory, attention, and perceptual grouping.
        Altered gamma activity has been observed in mood and cognitive disorders (Alzheimer's, epilepsy, schizophrenia)—but meditation and neurostimulation can also enhance gamma amplitude.
      </p>
    </section>
    <section class="sim-container">
      <h2>Gamma Wave Simulator</h2>
      <div class="slider-group">
        <label class="slider-label">
          Frequency <span id="freqValue">40</span> Hz
          <input type="range" id="freqSlider" min="30" max="150" value="40">
        </label>
        <label class="slider-label">
          Amplitude <span id="ampValue">1.0</span>
          <input type="range" id="ampSlider" min="0.1" max="2" step="0.01" value="1">
        </label>
        <label class="slider-label">
          Noise <span id="noiseValue">0.1</span>
          <input type="range" id="noiseSlider" min="0" max="0.5" step="0.01" value="0.1">
        </label>
      </div>
      <canvas id="gammaCanvas" width="800" height="180"></canvas>
      <div class="note">
        <strong>Try:</strong> Set frequency to 40 Hz for classic gamma, or sweep through 70–150 Hz for high gamma. Increase noise for more "disordered" brain states.
      </div>
    </section>
    <section class="sim-container">
      <h2>Epistemological Experiment: "Disturbingly Poignant"</h2>
      <div class="slider-group">
        <label class="slider-label">
          Synchrony <span id="syncValue">0.85</span>
          <input type="range" id="syncSlider" min="0" max="1" step="0.01" value="0.85">
        </label>
        <label class="slider-label">
          Group Size <span id="groupValue">5</span>
          <input type="range" id="groupSlider" min="1" max="12" value="5">
        </label>
      </div>
      <canvas id="epistemCanvas" width="800" height="180"></canvas>
      <div class="note">
        <strong>Interpretation:</strong> Each line is an "agent" in a mental network. Increase <em>synchrony</em> for more coherent, collective oscillations; decrease for fragmentation. Play with group size to model scale of conscious assembly.
      </div>
    </section>
    <div class="citations">
      <strong>References</strong>:<br>
      [1] <a href="https://en.wikipedia.org/wiki/Gamma_wave" target="_blank">Wikipedia: Gamma wave</a><br>
      [2] Lutz et al., "Long-term meditators self-induce high-amplitude gamma synchrony...", PNAS 2004.<br>
      [3] Martorell et al., "Multi-sensory Gamma Stimulation Ameliorates Alzheimer's Pathology...", Cell 2019.<br>
      [4] Herrmann & Demiralp, "Human EEG gamma oscillations in neuropsychiatric disorders", Clinical Neurophysiology 2005.<br>
      [5] Uhlhaas & Singer, "High-frequency oscillations and schizophrenia", Nature Reviews Neuroscience 2010.<br>
      [6] Traub et al., "Gamma-frequency oscillations: mechanisms and functions", Trends in Neurosciences 1999.<br>
    </div>
  </main>
  <script>
    // Gamma Wave Simulator
    const freqSlider = document.getElementById('freqSlider');
    const ampSlider = document.getElementById('ampSlider');
    const noiseSlider = document.getElementById('noiseSlider');
    const freqValue = document.getElementById('freqValue');
    const ampValue = document.getElementById('ampValue');
    const noiseValue = document.getElementById('noiseValue');
    const gammaCanvas = document.getElementById('gammaCanvas');
    const gCtx = gammaCanvas.getContext('2d');

    function drawGamma() {
      const width = gammaCanvas.width;
      const height = gammaCanvas.height;
      const freq = parseFloat(freqSlider.value);
      const amp = parseFloat(ampSlider.value);
      const noise = parseFloat(noiseSlider.value);

      gCtx.clearRect(0, 0, width, height);
      gCtx.strokeStyle = "#00e1ff";
      gCtx.lineWidth = 2;
      gCtx.beginPath();
      for (let x = 0; x < width; x++) {
        // t: time in seconds (simulate 0.2s window)
        const t = x / width * 0.2;
        let y = Math.sin(2 * Math.PI * freq * t) * amp;
        y += (Math.random() - 0.5) * 2 * noise;
        const plotY = height/2 - y * (height/2.5);
        if (x === 0) gCtx.moveTo(x, plotY);
        else gCtx.lineTo(x, plotY);
      }
      gCtx.stroke();

      // Draw horizontal zero line
      gCtx.strokeStyle = "#44485a";
      gCtx.lineWidth = 1;
      gCtx.beginPath();
      gCtx.moveTo(0, height/2);
      gCtx.lineTo(width, height/2);
      gCtx.stroke();
    }
    function updateGammaLabels() {
      freqValue.textContent = freqSlider.value;
      ampValue.textContent = ampSlider.value;
      noiseValue.textContent = noiseSlider.value;
    }
    [freqSlider, ampSlider, noiseSlider].forEach(slider =>
      slider.addEventListener('input', () => {
        updateGammaLabels();
        drawGamma();
      })
    );
    updateGammaLabels();
    drawGamma();

    // Epistemological Experiment
    const syncSlider = document.getElementById('syncSlider');
    const groupSlider = document.getElementById('groupSlider');
    const syncValue = document.getElementById('syncValue');
    const groupValue = document.getElementById('groupValue');
    const epistemCanvas = document.getElementById('epistemCanvas');
    const eCtx = epistemCanvas.getContext('2d');

    function drawEpistem() {
      const width = epistemCanvas.width;
      const height = epistemCanvas.height;
      const synchrony = parseFloat(syncSlider.value);
      const group = parseInt(groupSlider.value, 10);
      const duration = 0.25; // seconds
      const baseFreq = 40; // Hz

      eCtx.clearRect(0, 0, width, height);

      for (let agent = 0; agent < group; agent++) {
        // Each agent gets a phase offset and slight freq variation based on synchrony
        const phase = Math.random() * 2 * Math.PI * (1-synchrony);
        const freq = baseFreq + (Math.random()-0.5)*(10*(1-synchrony));
        eCtx.beginPath();
        for (let x = 0; x < width; x++) {
          const t = x / width * duration;
          const y = Math.sin(2 * Math.PI * freq * t + phase) * 0.9;
          // add some epistemic "confusion"/drift
          const drift = (Math.random()-0.5) * (0.05 + 0.25*(1-synchrony));
          const plotY = height/2 - (y + drift) * (height/(2.2*group)) - (agent - (group-1)/2) * (height/(group*1.3));
          if (x === 0) eCtx.moveTo(x, plotY);
          else eCtx.lineTo(x, plotY);
        }
        // Color based on synchrony (blue = sync, red = chaos)
        const hue = 200 + 100 * (1-synchrony);
        eCtx.strokeStyle = `hsl(${hue},85%,${60-20*(1-synchrony)}%)`;
        eCtx.lineWidth = 2.5 - 1.7*(1-synchrony);
        eCtx.globalAlpha = 0.8 - 0.3*(1-synchrony);
        eCtx.stroke();
      }
      eCtx.globalAlpha = 1.0;
      // Zero line:
      eCtx.strokeStyle = "#44485a";
      eCtx.lineWidth = 1;
      eCtx.beginPath();
      eCtx.moveTo(0, height/2);
      eCtx.lineTo(width, height/2);
      eCtx.stroke();
    }
    function updateEpistemLabels() {
      syncValue.textContent = syncSlider.value;
      groupValue.textContent = groupSlider.value;
    }
    [syncSlider, groupSlider].forEach(slider =>
      slider.addEventListener('input', () => {
        updateEpistemLabels();
        drawEpistem();
      })
    );
    updateEpistemLabels();
    drawEpistem();
  </script>
</body>
</html>
